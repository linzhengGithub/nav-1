{"version":3,"sources":["main.js"],"names":["$siteList","$","$lastLi","find","x","localStorage","getItem","console","log","xObject","JSON","parse","hasMap","logo","url","simplifyUrl","replace","render","remove","forEach","node","index","$li","insertBefore","on","window","open","e","stopPropagation","splice","prompt","indexOf","push","toUpperCase","onbeforeunload","string","stringify","setItem"],"mappings":"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","file":"main.2efb52e7.js","sourceRoot":"..\\src","sourcesContent":["const $siteList = $(\".siteList\");\r\nconst $lastLi = $siteList.find(\"li.last\");\r\nconst x = localStorage.getItem(\"x\"); //尝试读取x，得到x\r\nconsole.log(x)\r\nconst xObject = JSON.parse(x); //字符串重新变成对象\r\nconsole.log(xObject)\r\nconst hasMap = xObject || [{ logo: \"A\", url: \"https://www.acfun.cn\" }];\r\n\r\nconst simplifyUrl = (url) => {\r\n  return url.replace(\"https://\", \"\")\r\n    .replace(\"http://\", \"\")\r\n    .replace(\"www.\", \"\")\r\n    .replace(/\\/.*/, \"\");\r\n};\r\n\r\nconst render = () => {\r\n  $siteList.find(\"li:not(.last)\").remove();\r\n  hasMap.forEach((node,index) => {\r\n    const $li = $(`<li>\r\n                   <div class=\"site\">\r\n                       <div class=\"logo\">\r\n                           ${node.logo[0]}\r\n                       </div>\r\n                       <div class=\"link\">\r\n                           ${simplifyUrl(node.url)}\r\n                       </div>\r\n                           <div class=\"close\">\r\n                               <svg class=\"icon\">\r\n                                 <use xlink:href=\"#icon-close\"></use>\r\n                                </svg>\r\n                    </div>\r\n                 </div>\r\n        </li>`).insertBefore($lastLi);\r\n        $li.on('click',() => {\r\n            window.open(node.url)\r\n        })\r\n        $li.on('click','.close',(e) => {\r\n            e.stopPropagation(); //阻止冒泡\r\n            hasMap.splice(index,1)\r\n            render();\r\n        })\r\n  });\r\n};\r\n\r\nrender();\r\n$(\".addButton\").on(\"click\", () => {\r\n  let url = window.prompt(\"请问你要添加的网址是：\");\r\n  if (url.indexOf(\"http\") !== 0) {\r\n    url = \"https://\" + url;\r\n  }\r\n  hasMap.push({\r\n    logo: simplifyUrl(url)[0].toUpperCase(),\r\n    url: url,\r\n  });\r\n  render();\r\n  window.onbeforeunload = () => {\r\n    const string = JSON.stringify(hasMap); //把hasMap变成字符串\r\n    console.log(string)\r\n    localStorage.setItem(\"x\", string); //设置一个x，把string存起来\r\n  };\r\n});\r\n\r\n\r\n// $(document).on('keypress',(e) => {\r\n//     const {key} = e     //等于 const key = e.key\r\n//     for(let i = 0;i<hasMap.length;i++){\r\n//         if(hasMap[i].logo.toLowerCase() === key){\r\n//             window.open(hasMap[i].url)\r\n//         }\r\n//     }\r\n// })\r\n"]}